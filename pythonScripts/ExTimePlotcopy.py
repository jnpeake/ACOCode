import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure(figsize=(8,8))  # an empty figure with no axes

x = [318,442,783,1002,1577,2392,3795,5934,7397,11849]

plt.plot(x, [0.018191, 0.029170, 0.068259, 0.094123,0.176651, 0.371015, 0.785745, 2.088878, 3.388348,10.578780],'g',marker='D',ms='8',linewidth=2.5)
plt.plot(x, [0.00088779130859375, 0.0014503262695312502,0.0028373389062500004, 0.0035822545312500006,0.0052263371484374994, 0.0119393041015625, 0.1784515001666666/8.5,0.33610089483333333/8.5,0.5601151053333332/8.5,1.1669030743333333/8.5],'y',marker='^',ms='8',linewidth=2.5)
plt.plot(x, [0.0010817644531250004, 0.0020703886523437505, 0.004807740351562501, 0.0033899532226562504,0.005562903828125002, 0.009039324121093751, 0.14293172299999998/8.5,0.33933153900000007/8.5,0.2735510403333334/8.5,1.1167291481666666/8.5],'b',marker='^',ms='8',linewidth=2.5)
plt.plot(x, [0.00052122369140625, 0.0007496182812500001, 0.0013743394726562499, 0.0018510785351562504 ,0.0035014900781250003, 0.007016489804687498, 0.013539661191406252, 0.027850285273437497, 0.04304569882812501,0.0974729433984375],'r',marker='o',ms='8',linewidth=2.5)


plt.legend(['ACOTSP','VCSS - Xeon AVX2','New Memory - Xeon AVX2', 'VCSS - Xeon Phi AVX512'], loc='upper left',prop={'size': 16})
plt.xlabel('Domain Size')
plt.ylabel('Seconds per Iteration')
plt.yscale('log')
plt.xscale('symlog', linthreshy=0.001)
my_xticks = ['318', '442', '783', '1002','1577','2392','3795','5934','7397','11849']
plt.xticks(x, my_xticks)
ax = plt.gca()
plt.grid(True, axis='y',linestyle='--')

ax.tick_params(direction='in', length=6, width=2)
plt.savefig("ex_time.png",dpi=300)
plt.show()